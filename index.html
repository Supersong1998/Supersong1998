<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>大大大大宋</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://www.sssdoctor.com/favicon.ico?v=1649248313189">
<link rel="stylesheet" href="https://www.sssdoctor.com/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="温故而知新">
    
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://www.sssdoctor.com">
        <img src="https://www.sssdoctor.com/images/avatar.png?v=1649248313189" class="site-logo">
        <h1 class="site-title">大大大大宋</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://Supersong1998.github.io/tags" class="site-nav" target="_blank">
            分类
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
       | <a class="rss" href="https://www.sssdoctor.com/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/tensorflow_data/">
                  <h2 class="post-title">tensorflow_data</h2>
                </a>
                <div class="post-date">
                  2022-04-06
                </div>
                <div class="post-abstract">
                  <p>import tensorflow as tf<br>
import pathlib</p>
<p>#检查tensorflow版本<br>
print(tf.version)</p>
<p>#获取当前路径<br>
data_root=pathlib.Path.cwd()<br>
print(data_root)</p>
<p>#获取所有图片样本文件的路径并输出：<br>
all_imagine_paths = list(data_root.glob('<em>/</em>/*'))<br>
print(type(all_imagine_paths[0]))</p>
<p>#将对象转换成字符串<br>
all_imagine_paths=[str(path) for path in all_imagine_paths]<br>
print(all_imagine_paths[2])<br>
print(data_root)</p>
<p>#获取图片样本类别的名称，即存放样本的五个文件夹的名称 sorted排序、<br>
label_names=sorted(item.name for item in data_root.glob('<em>/</em>/') if item.is_dir())</p>
<p>#将类别名称转换成为数值型的类标 dict字典 enumerate枚举<br>
label_to_index=dict((name,index) for index,name in enumerate(label_names))</p>
<p>#获取所有图片的类别<br>
all_image_labels = [label_to_index[pathlib.Path(path).parent.name]<br>
for path in all_imagine_paths]<br>
print(label_to_index)</p>
<p>#加载和预处理图片数据<br>
def load_and_preprocessing_image(path):<br>
#读取图片<br>
image=tf.io.read_file(path)<br>
#将jpeg格式的图片解码，得到一个张量（三维的矩阵）<br>
image=tf.image.decode_jpeg(image,channels=3)<br>
#由于数据集中每个图片大小不一样，所以所以将其统一调整为192*192<br>
image=tf.image.resize(image, [192,192])<br>
#对每个像素点的RGB值做归一化处理<br>
image /=255.0</p>
<pre><code>return image
</code></pre>
<p>#构建图片路径的数据集<br>
path_ds=tf.data.Dataset.from_tensor_slices(all_imagine_paths)<br>
#使用autotune自动调节管道参数<br>
AUTOTUNE=tf.data.experimental.AUTOTUNE<br>
#构建图片数据的数据集<br>
image_ds=path_ds.map(load_and_preprocessing_image,num_parallel_calls=AUTOTUNE)<br>
#构建类标的数据集<br>
label_ds=tf.data.Dataset.from_tensor_slices(tf.cast(all_image_labels,tf.int64))<br>
#将图片和类标压缩为（图片，类标）对<br>
image_label_ds=tf.data.Dataset.zip((image_ds,label_ds))<br>
print(image_ds)<br>
print(label_ds)<br>
print(image_label_ds)</p>
<p>#数据集中部分可视化<br>
import matplotlib.pyplot as plt<br>
plt.figure(figsize=(8,8))<br>
for n,image_label in enumerate(image_label_ds.take(4)):<br>
plt.subplot(2,2,n+1)<br>
plt.imshow(image_label[0])<br>
plt.grid(False)<br>
plt.xticks([])<br>
plt.yticks([])<br>
plt.show()</p>
<h1 id="下载的模型在用户根目录下~kerasmodelsmobilenet_v2_weights_tf_dim_ordering_tf_kernels_10_192_no_toph5">下载的模型在用户根目录下“~/.keras/models/mobilenet_v2_weights_tf_dim_ordering_tf_kernels_1.0_192_no_top.h5”</h1>
<p>mobile_net = tf.keras.applications.MobileNetV2(input_shape=(192, 192, 3),include_top=False)<br>
mobile_net.trainable = False</p>
<h1 id="使用dataset类的shuffle方法打乱数据集">使用Dataset类的shuffle方法打乱数据集</h1>
<p>image_count = len(all_imagine_paths)<br>
ds = image_label_ds.shuffle(buffer_size=image_count)</p>
<h1 id="让数据集重复多次">让数据集重复多次</h1>
<p>ds = ds.repeat()</p>
<h1 id="设置每个batch的大小">设置每个batch的大小</h1>
<p>BATCH_SIZE = 32<br>
ds = ds.batch(BATCH_SIZE)</p>
<h1 id="通过prefetch方法让模型的训练和每个batch数据集的加载并行">通过“prefetch”方法让模型的训练和每个batch数据集的加载并行</h1>
<p>ds = ds.prefetch(buffer_size=AUTOTUNE)</p>
<h1 id="定义一个函数用来将范围在01之间的数据映射到-11之间">定义一个函数用来将范围在[0,1]之间的数据映射到[-1,1]之间</h1>
<p>def change_range(image,label):<br>
return 2*image-1, label</p>

                </div>
              </div>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/yang-ben-lei-bie-jun-heng-hua-ji-zhi-xin-gai-lu/">
                  <h2 class="post-title">样本类别均衡化及置信概率</h2>
                </a>
                <div class="post-date">
                  2022-03-23
                </div>
                <div class="post-abstract">
                  <p>1.通过类别权重的均衡化，使得占比小的样本权重较高，占比大的样本权重较小，假设100图片，90狗，10猫然后训练出的模型会得出狗的结果，因为这样准确率也能得到90%以上。<br>
API：model=svm.SVC(kernel='linear',calss_weight='balanced')<br>
model.fit(trainx,trainy)</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/yang-ben-lei-bie-jun-heng-hua-ji-zhi-xin-gai-lu/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/yang-ben-lei-bie-jun-heng-hua-ji-zhi-xin-gai-lu.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/python-zhong-array-shu-zu-wei-du/">
                  <h2 class="post-title">Python中array数组维度</h2>
                </a>
                <div class="post-date">
                  2022-03-21
                </div>
                <div class="post-abstract">
                  <p>X[m,n]<br>
m,n可以看作是行m与列n</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/python-zhong-array-shu-zu-wei-du/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/python-zhong-array-shu-zu-wei-du.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/jue-ce-shu/">
                  <h2 class="post-title">决策树</h2>
                </a>
                <div class="post-date">
                  2022-03-18
                </div>
                <div class="post-abstract">
                  
                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/jue-ce-shu/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/jue-ce-shu.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/ji-qi-xue-xi-03-xian-xing-hui-gui/">
                  <h2 class="post-title">机器学习03—回归</h2>
                </a>
                <div class="post-date">
                  2022-03-12
                </div>
                <div class="post-abstract">
                  <p>线性回归：根据已知输入和输出，求解二者之间的线性模型参数，得到连续输入和输出。线性回归的算法种类很多，包括：普通线性回归、岭回归、多项式回归、贝叶斯回归、logistic回归等.</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/ji-qi-xue-xi-03-xian-xing-hui-gui/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/ji-qi-xue-xi-03-xian-xing-hui-gui.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/ji-qi-xue-xi-shu-ju-yu-chu-li-02/">
                  <h2 class="post-title">机器学习数据预处理02</h2>
                </a>
                <div class="post-date">
                  2022-03-09
                </div>
                <div class="post-abstract">
                  <p>手动范围缩放、归一化、独热编码、标签编码</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/ji-qi-xue-xi-shu-ju-yu-chu-li-02/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/ji-qi-xue-xi-shu-ju-yu-chu-li-02.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/icem-wang-ge-hua-fen-lian-xi-1/">
                  <h2 class="post-title">iCEM 网格划分 练习1</h2>
                </a>
                <div class="post-date">
                  2022-03-09
                </div>
                <div class="post-abstract">
                  <p>流场几何形状为45度弯头，内部有一竖直空心管道通过。空心管道与流场接触的壁面对于流体产生阻碍作用。划分的基本操作：1.生成3d块，利用切割功能实现块整体结构与几何的相似。2.关联：快网格能够映射到几何上。3.空心管道进行o型切分，同时删除多余的块。4.进行空心块的关联，包括：边关联以及面关联。5.进行整体结构O型切分。6.划分网格并开始调整。</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/icem-wang-ge-hua-fen-lian-xi-1/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/icem-wang-ge-hua-fen-lian-xi-1.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/1/">
                  <h2 class="post-title">python—01—学习路径及数据类型</h2>
                </a>
                <div class="post-date">
                  2022-03-07
                </div>
                <div class="post-abstract">
                  <p>1.计算机三大件之间的相互关系<br>
cpu负责计算、 内存暂时存储、 硬盘存储，内存相当于中间商，加快cpu需要的数据的输送，硬盘输送数据太慢。<br>
2.变量与内存之间的关系<br>
内存：仓库<br>
变量：仓库内的容器 既然是容器就得有名字、地址、以及空间</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/1/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/1.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/ji-qi-xue-xi/">
                  <h2 class="post-title">机器学习概述</h2>
                </a>
                <div class="post-date">
                  2022-03-01
                </div>
                <div class="post-abstract">
                  <p>有关机器学习的背景、应用、基本问题以及数据预处理中的均值移除、范围缩放</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/ji-qi-xue-xi/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/ji-qi-xue-xi.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/icem-cfd-liu-mian-ti-wang-ge-hua-fen/">
                  <h2 class="post-title">ICEM CFD六面体网格划分-01</h2>
                </a>
                <div class="post-date">
                  2022-02-24
                </div>
                <div class="post-abstract">
                  <p>1.Block基本概念<br>
2.Bolock层次结构<br>
点、线、面、块<br>
3.Block创建(creat)以及分割（split)<br>
3.1自上而下<br>
即先对几何体切块，然后细分，最终实现精细化控制。自上而下实际上是一种拓扑意义上的顺序。常见类型包括：3D、2DSurface、2DPlan</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/icem-cfd-liu-mian-ti-wang-ge-hua-fen/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/icem-cfd-liu-mian-ti-wang-ge-hua-fen.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/icem-cfd-ji-he-tuo-bu-xiu-fu/">
                  <h2 class="post-title">ICEM CFD几何拓扑、修复</h2>
                </a>
                <div class="post-date">
                  2022-02-23
                </div>
                <div class="post-abstract">
                  <p>geometry操作界面<br>
从左至右：创建点、线、面、体、网格面、几何修复、几何变换、恢复主导对象、删除点、删除线、删除面、删除body、删除任意对象</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/icem-cfd-ji-he-tuo-bu-xiu-fu/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/icem-cfd-ji-he-tuo-bu-xiu-fu.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/liu-ti-wang-ge/">
                  <h2 class="post-title">流体网格</h2>
                </a>
                <div class="post-date">
                  2022-02-22
                </div>
                <div class="post-abstract">
                  <p>1.流体网格基础概念<br>
1.1术语<br>
网格：grid/cell/mesh<br>
节点：node(固体常用/vertices流体计算软件常用）<br>
控制体：control volume</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/liu-ti-wang-ge/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/liu-ti-wang-ge.png')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/dm-jin-xing-liu-ti-yu-de-chuang-jian/">
                  <h2 class="post-title">DM进行流体域的创建</h2>
                </a>
                <div class="post-date">
                  2022-02-22
                </div>
                <div class="post-abstract">
                  <p>直接计算流体域创建、内流计算流体域创建、外流计算创建 混合流体域的创建</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/dm-jin-xing-liu-ti-yu-de-chuang-jian/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/dm-jin-xing-liu-ti-yu-de-chuang-jian.jpg')">
                  </div>
                </a>
              
            </article>
          
            <article class="post-item">
              <div class="left">
                <a href="https://www.sssdoctor.com/post/n-s-fang-cheng-tui-dao-ji-qi-wu-li-yi-yi/">
                  <h2 class="post-title">N-S方程推导</h2>
                </a>
                <div class="post-date">
                  2022-02-18
                </div>
                <div class="post-abstract">
                  <p>这并不是我第一次接触N-S方程，认识它的时间竟然比我女友的时间还要提前，那是2018年的夏天。</p>

                </div>
              </div>
              
                <a class="right" href="https://www.sssdoctor.com/post/n-s-fang-cheng-tui-dao-ji-qi-wu-li-yi-yi/">
                  <div class="feature-container" style="background-image: url('https://www.sssdoctor.com/post-images/n-s-fang-cheng-tui-dao-ji-qi-wu-li-yi-yi.jfif')">
                  </div>
                </a>
              
            </article>
          

          <div class="pagination-container">
  
  
</div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
